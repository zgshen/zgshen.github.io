<!DOCTYPE html><html lang="en"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="zgshen,zguishen,ç”˜ç”˜"><meta name="twitter:card" content="summary"><meta name="twitter:creator" content="@licorice128"><meta name="twitter:title" content="ä» Java8 åˆ° Java11 å†åˆ° Java17 çš„æ–°ç‰¹æ€§(1)"><meta name="twitter:image" content="https://zguishen.com/images/blog/avatar.jpeg"><title>ä» Java8 åˆ° Java11 å†åˆ° Java17 çš„æ–°ç‰¹æ€§(1) | ç”˜è‰</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=1.0.0"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/normalize/latest/normalize.min.css"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/pure/latest/pure-min.min.css"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/pure/latest/grids-responsive-min.min.css"><link rel="stylesheet" href="//lib.baomitu.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//lib.baomitu.com/jquery/latest/jquery.min.js"></script><link rel="icon" mask="" sizes="any" href="/favicon.ico"><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><link rel="alternate" type="application/atom+xml" href="/atom.xml"><script type="text/javascript" src="//lib.baomitu.com/clipboard.js/latest/clipboard.min.js"></script><script type="text/javascript" src="//lib.baomitu.com/toastr.js/latest/toastr.min.js"></script><link rel="stylesheet" href="//lib.baomitu.com/toastr.js/latest/toastr.min.css"><div class="darkmode-toggle">ğŸŒ“</div><script>var prefersDarkMode = window.matchMedia('(prefers-color-scheme: dark)');
var toggle = document.querySelector('.darkmode-toggle');
var html = document.querySelector('html');

html.dataset.dark = localStorage.dark || prefersDarkMode.matches;

toggle.addEventListener('click', () => {
localStorage.dark = !(html.dataset.dark == 'true');
html.dataset.dark = localStorage.dark;
});</script><meta name="generator" content="Hexo 6.0.0"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">ä» Java8 åˆ° Java11 å†åˆ° Java17 çš„æ–°ç‰¹æ€§(1)</h1><a id="logo" href="/.">ç”˜è‰</a><p class="description"></p></div><div id="nav-menu"><a class="current" href="/."><i class="fa fa-home"> Home</i></a><a href="/archives/"><i class="fa fa-archive"> Archive</i></a><a href="/about/"><i class="fa fa-user"> About</i></a><a href="/kindle/"><i class="fa fa-book"> Kindle</i></a><a href="/gallery/"><i class="fa fa-image"> Gallery</i></a></div></div><div class="pure-g" id="layout"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">ä» Java8 åˆ° Java11 å†åˆ° Java17 çš„æ–°ç‰¹æ€§(1)</h1><div class="post-meta">2021-09-18<span> | </span><span class="category"><a href="/categories/%E6%8A%80%E6%9C%AF/">æŠ€æœ¯</a></span></div><div class="clear"><div class="toc-article" id="toc"><div class="toc-title">Contents</div><ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-Lambda-%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="toc-number">1.</span> <span class="toc-text">1. Lambda è¡¨è¾¾å¼</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E6%8E%A5%E5%8F%A3%E9%BB%98%E8%AE%A4%E6%96%B9%E6%B3%95"><span class="toc-number">2.</span> <span class="toc-text">2. æ¥å£é»˜è®¤æ–¹æ³•</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-Optional-%E7%B1%BB"><span class="toc-number">3.</span> <span class="toc-text">3. Optional ç±»</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-Stream-%E6%B5%81%E5%A4%84%E7%90%86"><span class="toc-number">4.</span> <span class="toc-text">4. Stream æµå¤„ç†</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-Base64-%E5%B7%A5%E5%85%B7"><span class="toc-number">5.</span> <span class="toc-text">4.  Base64 å·¥å…·</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-%E6%96%B0%E7%9A%84%E6%97%A5%E6%9C%9F%E5%92%8C%E6%97%B6%E9%97%B4%E5%B7%A5%E5%85%B7"><span class="toc-number">6.</span> <span class="toc-text">5.  æ–°çš„æ—¥æœŸå’Œæ—¶é—´å·¥å…·</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-CompletableFuture-%E5%BC%82%E6%AD%A5%E7%BC%96%E7%A8%8B"><span class="toc-number">7.</span> <span class="toc-text">6. CompletableFuture å¼‚æ­¥ç¼–ç¨‹</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-%E5%8F%82%E8%80%83"><span class="toc-number">8.</span> <span class="toc-text">7. å‚è€ƒ</span></a></li></ol></div></div><div class="post-content"><p>ä» JDK8 ä¹‹åï¼ŒJava çš„æ›´æ–°ç­–ç•¥æ”¹ä¸ºä»¥æ—¶é—´é©±åŠ¨çš„æ–¹å¼ï¼Œæ¯å…­ä¸ªæœˆå‘å¸ƒä¸€ä¸ªæ–°çš„Javaç‰ˆæœ¬ï¼Œæ¯ä¸‰å¹´å‘è¡¨ä¸€ä¸ªé•¿æœŸæ”¯æŒç‰ˆæœ¬ã€‚ä¸€èˆ¬å¦‚æœè¦å¯¹æ—§ JDK è¿›è¡Œå‡çº§ï¼Œéƒ½ä¼šé€‰æ‹©é•¿æœŸæ”¯æŒç‰ˆï¼ŒJDK11 å’Œæœ€è¿‘æ›´æ–°çš„ JDK17 æ˜¯é•¿æœŸæ”¯æŒç‰ˆæœ¬ã€‚ä½†æ˜¯ç”±äºå•†ä¸šé¡¹ç›®æ›´çœ‹é‡ç¨³å®šæ€§ï¼Œæ›´æ–° JDK å¸¦æ¥çš„æ”¶ç›Šä¸å¤§ï¼Œå¤§å¤šæ•°äººä¸æ„¿æ„è¸©å‘å»æ›´æ–° JDKã€‚å› æ­¤ï¼Œå¾ˆå¤šäººéƒ½åªæ˜¯ä»æ–°é—»äº†è§£åˆ°æ–° JDK çš„æ–°ç‰¹æ€§ï¼Œå¹³å¸¸å¼€å‘æ²¡æœ‰æ¥è§¦åˆ°ï¼Œç”šè‡³æœ‰äº›åœ¨ç”¨ JDK8 çš„äººè¿ JDK8 çš„æ–°ç‰¹æ€§éƒ½ç”¨ä¸åˆ©ç´¢æˆ–è€…ç›´æ¥å°±ä¸çŸ¥é“ã€‚å…¶å®è®¸å¤šæ–°ç‰¹æ€§æ˜¯å¯ä»¥ç®€åŒ–æˆ‘ä»¬çš„å¼€å‘ï¼Œèƒ½è®©æˆ‘ä»¬ä»¥æ›´ä¼˜é›…çš„æ–¹å¼å®ç°åŠŸèƒ½ã€‚æ¥ä¸‹æ¥æˆ‘å°†åˆ†ä¸‰ç¯‡æ–‡ç« åˆ†åˆ«ç®€å•ä»‹ç» JDK8ã€JDK9-JDk11 å’Œ JDK12-JDK17 åœ¨ç¼–ç æ–¹é¢çš„ä¸€äº›æ–°åŠŸèƒ½ï¼Œè‡³äºè™šæ‹Ÿæœºçš„æ”¹è¿›å’Œå…¶ä»–éƒ¨é—¨è¿™é‡Œæš‚ä¸åšè®¨è®ºã€‚</p>
<p>å…ˆä» Java8 å¼€å§‹è¯´èµ·ï¼Œçœ‹çœ‹éƒ¨åˆ†å¸¸ç”¨çš„æ–°ç‰¹æ€§ã€‚<br>æœ¬æ–‡æºç åœ°å€ï¼š<a target="_blank" rel="noopener" href="https://github.com/zgshen/code-note/tree/master/java/src/com/jdk/java8">code-note</a></p>
<h3 id="1-Lambda-è¡¨è¾¾å¼"><a href="#1-Lambda-è¡¨è¾¾å¼" class="headerlink" title="1. Lambda è¡¨è¾¾å¼"></a>1. Lambda è¡¨è¾¾å¼</h3><p>Lambda å…è®¸æŠŠå‡½æ•°ä½œä¸ºä¸€ä¸ªæ–¹æ³•çš„å‚æ•°ï¼ˆå‡½æ•°ä½œä¸ºå‚æ•°ä¼ é€’è¿›æ–¹æ³•ä¸­ï¼‰ï¼Œè®©åŒ¿åå†…éƒ¨ç±»çš„å†™æ³•æ›´ç®€ä¾¿ã€‚</p>
<p>ä¾‹å­ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">LambdaTest</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">LambdaTest</span><span class="params">()</span> &#123;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">LambdaTest</span><span class="params">(String str)</span> &#123;</span><br><span class="line">        <span class="comment">//use param str to do something</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">interfaceTest</span><span class="params">(SingleFncInterface singleFunInterface)</span> &#123;</span><br><span class="line">        singleFunInterface.doSomething(<span class="string">&quot;123&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">simpleMenthod</span><span class="params">(String str)</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;simple method. str is:&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">staticMenthod</span><span class="params">(String str)</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;static menthod. str is:&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * å•å‡½æ•°æ¥å£</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@FunctionalInterface</span></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">SingleFncInterface</span> &#123;</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">doSomething</span><span class="params">(String str)</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">default</span> <span class="keyword">void</span> <span class="title function_">print</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;default method.&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä»¥ä¸Š <code>SingleFncInterface</code> æ˜¯ä¸€ä¸ªå…¸å‹çš„å‡½æ•°å¼æ¥å£ï¼ŒåªåŒ…å«ä¸€ä¸ªæŠ½è±¡æ–¹æ³•ï¼Œå¯ä»¥åŠ ä¸Š <code>@FunctionalInterface</code> æ³¨è§£æ ‡è®°ï¼Œé™åˆ¶åªå…è®¸å®šä¹‰ä¸€ä¸ªæŠ½è±¡æ–¹æ³•ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Lambda æœ¬è´¨å°±æ˜¯å•å‡½æ•°æ¥å£</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">singleFunTest</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="comment">//ä½œä¸ºå‚æ•°çš„å½¢å¼</span></span><br><span class="line">    LambdaTest.interfaceTest((String str) -&gt; &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;single function interface. param:&quot;</span> + str);</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//SingleFncInterface s = (String str) -&gt; System.out.println(str);</span></span><br><span class="line">	<span class="type">SingleFncInterface</span> <span class="variable">s</span> <span class="operator">=</span> str -&gt; System.out.println(str);</span><br><span class="line">    s.doSomething(<span class="string">&quot;123&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//ç®€åŒ–å½¢å¼ï¼Œæ–¹æ³•å¼•ç”¨</span></span><br><span class="line">    <span class="comment">//LambdaTest.interfaceTest(item -&gt; System.out.println(item));</span></span><br><span class="line">    LambdaTest.interfaceTest(System.out::println);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¯ä»¥çœ‹å‡º lambda è¡¨è¾¾å¼çš„è¯­æ³•æ ¼å¼æ˜¯å¦‚ï¼š(parameters) -&gt; expression&#x2F;statementsï¼Œç‰¹æ®Šçš„è¿˜æœ‰æ›´åŠ ç®€åŒ–çš„æ–¹æ³•å¼•ç”¨æ–¹å¼ã€‚</p>
<p>æ–¹æ³•å¼•ç”¨å¯åˆ†ä¸ºä¸‰ç§ï¼Œé™æ€ã€å®ä¾‹å’Œæ„é€ å¼•ç”¨ï¼Œä½¿ç”¨ä¾‹å­å¦‚ä¸‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æ–¹æ³•å¼•ç”¨</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">refTest</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="comment">//é™æ€å¼•ç”¨ã€‚æ„æ€å°±æ˜¯ç”¨ String çš„ valof() æ–¹æ³•æ¥å®ç° Function æ¥å£çš„ apply æ–¹æ³•</span></span><br><span class="line">    Function&lt;Integer, String&gt; fun = String::valueOf;</span><br><span class="line">    <span class="type">String</span> <span class="variable">apply</span> <span class="operator">=</span> fun.apply(<span class="number">100</span>);</span><br><span class="line">    System.out.println(apply);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//é™æ€å¼•ç”¨</span></span><br><span class="line">    <span class="type">SingleFncInterface</span> <span class="variable">sfi1</span> <span class="operator">=</span> LambdaTest::staticMenthod;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//å®ä¾‹å¼•ç”¨</span></span><br><span class="line">    <span class="type">LambdaTest</span> <span class="variable">lambdaTest</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">LambdaTest</span>();</span><br><span class="line">    <span class="type">SingleFncInterface</span> <span class="variable">sfi2</span> <span class="operator">=</span> lambdaTest::simpleMenthod;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//æ„é€ å¼•ç”¨ï¼Œå¸¦å‚æ•°</span></span><br><span class="line">    <span class="type">SingleFncInterface</span> <span class="variable">sfi3</span> <span class="operator">=</span> LambdaTest::<span class="keyword">new</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//æ„é€ å¼•ç”¨ï¼Œä¸å¸¦å‚æ•°</span></span><br><span class="line">    <span class="type">Runnable</span> <span class="variable">runnable</span> <span class="operator">=</span> LambdaTest::<span class="keyword">new</span>;</span><br><span class="line">    <span class="comment">//runnable.run();//å•å‡½æ•° Runnable æ¥å£ run æ–¹æ³•ç”± LambdaTest æ„é€ å®ç°</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ ¹æ®è¾“å…¥å’Œè¿”å›å‚æ•°çš„ä¸åŒï¼ŒJDK ä¸­æä¾›äº†å››ç§ç±»å‹çš„å‡½æ•°å¼æ¥å£ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * å››ç§ç±»å‹å‡½æ•°å¼æ¥å£</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">funTest</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Function&lt;T, R&gt;</span></span><br><span class="line"><span class="comment">     * è°ƒç”¨æ–¹æ³• R apply(T t);</span></span><br><span class="line"><span class="comment">     * Tï¼šå…¥å‚ç±»å‹ï¼ŒRï¼šå‡ºå‚ç±»å‹</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    Function&lt;Integer, Integer&gt; function = n -&gt; n*n;</span><br><span class="line">    <span class="type">Integer</span> <span class="variable">apply</span> <span class="operator">=</span> function.apply(<span class="number">10</span>);</span><br><span class="line">    System.out.println(apply);</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Consumer&lt;T&gt;</span></span><br><span class="line"><span class="comment">     * è°ƒç”¨æ–¹æ³•ï¼švoid accept(T t);</span></span><br><span class="line"><span class="comment">     * Tï¼šå…¥å‚ç±»å‹ï¼›æ²¡æœ‰å‡ºå‚</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    Consumer&lt;String&gt; consumer = System.out::println;</span><br><span class="line">    consumer.accept(<span class="string">&quot;output msg.&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Supplier&lt;T&gt;</span></span><br><span class="line"><span class="comment">     * è°ƒç”¨æ–¹æ³•ï¼šT get();</span></span><br><span class="line"><span class="comment">     * Tï¼šå‡ºå‚ç±»å‹ï¼›æ²¡æœ‰å…¥å‚</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    Supplier&lt;Integer&gt; supplier = () -&gt; <span class="number">10</span>*<span class="number">10</span>;</span><br><span class="line">    <span class="type">Integer</span> <span class="variable">integer</span> <span class="operator">=</span> supplier.get();</span><br><span class="line">    System.out.println(integer);</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Predicate&lt;T&gt;</span></span><br><span class="line"><span class="comment">     * è°ƒç”¨æ–¹æ³•ï¼šboolean test(T t);</span></span><br><span class="line"><span class="comment">     * Tï¼šå…¥å‚ç±»å‹ï¼›å‡ºå‚ç±»å‹æ˜¯Boolean</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    Predicate&lt;Integer&gt; predicate = num -&gt; num&gt;<span class="number">10</span>;<span class="comment">//æ˜¯å¦å¤§äº10</span></span><br><span class="line">    <span class="type">boolean</span> <span class="variable">test</span> <span class="operator">=</span> predicate.test(<span class="number">20</span>);</span><br><span class="line">    System.out.println(test);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="2-æ¥å£é»˜è®¤æ–¹æ³•"><a href="#2-æ¥å£é»˜è®¤æ–¹æ³•" class="headerlink" title="2. æ¥å£é»˜è®¤æ–¹æ³•"></a>2. æ¥å£é»˜è®¤æ–¹æ³•</h3><p>Java8 å…è®¸åœ¨æ¥å£ä¸­æ·»åŠ ä¸€ä¸ªæˆ–è€…å¤šä¸ªé»˜è®¤æ–¹æ³•ï¼Œåœ¨ <code>SingleFncInterface</code> æ¥å£ä¸­ <code>print()</code> å°±æ˜¯ä¸€ä¸ªé»˜è®¤æ–¹æ³•ã€‚å¢åŠ é»˜è®¤æ–¹æ³•æ˜¯ä¸ºäº†ç»™æ¥å£æ·»åŠ æ–°æ–¹æ³•çš„åŒæ—¶ä¸å½±å“å·²æœ‰çš„å®ç°ï¼Œä¸éœ€è¦ä¿®æ”¹å…¨éƒ¨å®ç°ç±»ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@FunctionalInterface</span></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">SingleFncInterface</span> &#123;</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">doSomething</span><span class="params">(String str)</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">default</span> <span class="keyword">void</span> <span class="title function_">print</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;default method.&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="3-Optional-ç±»"><a href="#3-Optional-ç±»" class="headerlink" title="3. Optional ç±»"></a>3. Optional ç±»</h3><p>åœ¨ Java8 ä¹‹å‰ï¼Œç©ºæŒ‡é’ˆå¼‚å¸¸æ˜¯ç¼–ç æ—¶æœ€éœ€è¦æ³¨æ„çš„å¼‚å¸¸ï¼Œæˆ‘ä»¬å¾€å¾€éƒ½éœ€è¦æ‰‹åŠ¨å¯¹å˜é‡è¿›è¡Œ null å€¼åˆ¤æ–­ï¼Œå¯¹å¯èƒ½çš„ç©ºæŒ‡é’ˆå¼‚å¸¸è¿›è¡Œæ•è·å¤„ç†ã€‚Java8 æä¾›çš„ Optional ç±»å¯ä»¥ä»¥æ¯”è¾ƒä¼˜é›…çš„æ–¹å¼è¿›è¡Œç©ºå€¼åˆ¤æ–­ï¼Œè§£å†³ç©ºæŒ‡é’ˆå¼‚å¸¸ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> org.junit.Before;</span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Optional;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">OptionalExample</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Person person;</span><br><span class="line">    <span class="keyword">private</span> Car car;</span><br><span class="line">    <span class="keyword">private</span> Insurance insurance;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Before</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">init</span><span class="params">()</span> &#123;</span><br><span class="line">        insurance = <span class="keyword">new</span> <span class="title class_">Insurance</span>(<span class="string">&quot;Tesla&quot;</span>);</span><br><span class="line">        car = <span class="keyword">new</span> <span class="title class_">Car</span>(Optional.of(insurance));</span><br><span class="line">        person = <span class="keyword">new</span> <span class="title class_">Person</span>(Optional.of(car));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test1</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">//å…è®¸ä¼ é€’ä¸º null çš„å‚æ•°</span></span><br><span class="line">        Optional&lt;Insurance&gt; insurance = Optional.ofNullable(<span class="built_in">this</span>.insurance);</span><br><span class="line">        Optional&lt;String&gt; s = insurance.map(insurance1 -&gt; insurance1.getName());</span><br><span class="line">        System.out.println(s);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test2</span><span class="params">()</span> &#123;</span><br><span class="line">        Optional&lt;Person&gt; person = Optional.of(<span class="built_in">this</span>.person);</span><br><span class="line">        <span class="type">String</span> <span class="variable">name</span> <span class="operator">=</span> person.flatMap(Person::getCar)</span><br><span class="line">                .flatMap(Car::getInsurance)<span class="comment">//æ‹¿åˆ°å°è£…çš„ Optional&lt;Car&gt;</span></span><br><span class="line">                .map(Insurance::getName)<span class="comment">//ç›´æ¥æ‹¿åˆ°å€¼</span></span><br><span class="line">                .orElse(<span class="string">&quot;ubknow&quot;</span>);</span><br><span class="line">        System.out.println(name);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test3</span><span class="params">()</span> &#123;</span><br><span class="line">        Optional&lt;Car&gt; c = Optional.empty();</span><br><span class="line">        Optional&lt;String&gt; s = c.flatMap(Car::getInsurance)</span><br><span class="line">                .map(Insurance::getName);</span><br><span class="line">        System.out.println(s);</span><br><span class="line">        <span class="type">String</span> <span class="variable">unknow</span> <span class="operator">=</span> s.orElse(<span class="string">&quot;unknow&quot;</span>);</span><br><span class="line">        System.out.println(unknow);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> Optional&lt;Car&gt; car;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Person</span><span class="params">(Optional&lt;Car&gt; car)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.car = car;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> Optional&lt;Car&gt; <span class="title function_">getCar</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> car;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Car</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> Optional&lt;Insurance&gt; insurance;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Car</span><span class="params">(Optional&lt;Insurance&gt; insurance)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.insurance = insurance;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> Optional&lt;Insurance&gt; <span class="title function_">getInsurance</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> insurance;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Insurance</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Insurance</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getName</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Optional&lt;Insurance&gt; insurance = Optional.of(<span class="built_in">this</span>.insurance)</span><br><span class="line"><span class="comment">// this.insurance ä¸º null è¿”å› Optional.empty</span></span><br><span class="line">Optional&lt;Insurance&gt; insurance = Optional.ofNullable(<span class="built_in">this</span>.insurance)</span><br></pre></td></tr></table></figure>
<p>ç®€å•æ¥è¯´ï¼Œå¦‚æœæƒ³å¾—åˆ°ä¸€ä¸ªé null å€¼çš„ Optional ä½¿ç”¨ <code>Optional.of</code>ï¼Œå…è®¸ null å€¼çš„è¯ä½¿ç”¨ <code>Optional.ofNullable</code>;</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">String</span> <span class="variable">name</span> <span class="operator">=</span> person.flatMap(Person::getCar)</span><br><span class="line">                .flatMap(Car::getInsurance)</span><br><span class="line">                .map(Insurance::getName)</span><br><span class="line">                .orElse(<span class="string">&quot;unknown&quot;</span>);</span><br></pre></td></tr></table></figure>
<p>å¯¹äºè¿”å›ä¸€ä¸ª <code>Optional</code> ç»“æœé›†éœ€è¦ä½¿ç”¨ <code>flatMap</code>ï¼Œæ¯”å¦‚ <code>Person::getCar</code> æ–¹æ³•å’Œ <code>Car::getInsurance</code>ï¼Œåªè¦å•ä¸€è½¬æ¢çš„ä½¿ç”¨ <code>map</code>ï¼Œä¾‹å¦‚ <code>Insurance::getName</code>ï¼Œå¦‚æœæ˜¯ empty è¿”å› orElse çš„å†…å®¹ã€‚</p>
<h3 id="4-Stream-æµå¤„ç†"><a href="#4-Stream-æµå¤„ç†" class="headerlink" title="4. Stream æµå¤„ç†"></a>4. Stream æµå¤„ç†</h3><p>æµ Stream é€šè¿‡å£°æ˜çš„æ–¹å¼æ¥å¤„ç†æ•°æ®ï¼Œå¯ä»¥åœ¨ç®¡é“çš„èŠ‚ç‚¹ä¸Šå¯¹æ•°æ®è¿›è¡Œæ’åºã€èšåˆã€ç­›é€‰ã€å»é‡å’Œæˆªå–ç­‰ç­‰æ“ä½œã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"><span class="keyword">import</span> java.util.IntSummaryStatistics;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> java.util.stream.Collectors;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">StreamExample</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * åˆå§‹åŒ–é›†åˆ</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    List&lt;Fruit&gt; fruits = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;(Arrays.asList(</span><br><span class="line">            <span class="keyword">new</span> <span class="title class_">Fruit</span>(<span class="string">&quot;apple&quot;</span>),</span><br><span class="line">            <span class="keyword">new</span> <span class="title class_">Fruit</span>(<span class="string">&quot;banana&quot;</span>),</span><br><span class="line">            <span class="keyword">new</span> <span class="title class_">Fruit</span>(<span class="string">&quot;orange&quot;</span>)</span><br><span class="line">    ));</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * éå†</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">outputTest</span><span class="params">()</span> &#123;</span><br><span class="line">        List&lt;Integer&gt; integers = Arrays.asList(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>);</span><br><span class="line"></span><br><span class="line">        integers.forEach(System.out::print);</span><br><span class="line">        System.out.println();</span><br><span class="line">        integers.stream().forEach(System.out::print);</span><br><span class="line">        System.out.println();</span><br><span class="line">        <span class="comment">//å¹¶è¡Œæµåº•å±‚ä½¿ç”¨Fork/Joinæ¡†æ¶å®ç°ï¼Œå¼‚æ­¥å¤„ç†ï¼Œè¾“å‡ºä¸ä¸€å®šæ˜¯12345</span></span><br><span class="line">        integers.parallelStream().forEach(System.out::print);</span><br><span class="line">        System.out.println();</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ˜ å°„</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">mapTest</span><span class="params">()</span> &#123;</span><br><span class="line">        List&lt;Integer&gt; integers = Arrays.asList(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>);</span><br><span class="line">        <span class="comment">//æ˜ å°„æ¯ä¸ªå…ƒç´ æ“ä½œï¼Œç”Ÿæˆæ–°çš„ç»“æœ</span></span><br><span class="line">        List&lt;Integer&gt; collect = integers.stream().map(n -&gt; n * n).collect(Collectors.toList());</span><br><span class="line">        System.out.println(collect);</span><br><span class="line"></span><br><span class="line">        List&lt;String&gt; fruitList = fruits.stream().map(obj -&gt; obj.name=<span class="string">&quot;I like &quot;</span>.concat(obj.name)).collect(Collectors.toList());</span><br><span class="line">        System.out.println(fruitList);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ’åºã€è¿‡æ»¤ã€é™åˆ¶</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">filterTest</span><span class="params">()</span> &#123;</span><br><span class="line">        List&lt;Integer&gt; integers = Arrays.asList(<span class="number">2</span>, <span class="number">3</span>, <span class="number">1</span>, <span class="number">4</span>, <span class="number">8</span>, <span class="number">5</span>, <span class="number">9</span>, <span class="number">5</span>);</span><br><span class="line">        List&lt;Integer&gt; collect = integers.stream()</span><br><span class="line">                <span class="comment">//.sorted()//æ’åº</span></span><br><span class="line">                .sorted((x, y) -&gt; y - x)</span><br><span class="line">                .distinct()<span class="comment">//å»é‡</span></span><br><span class="line">                .filter(n -&gt; n &lt; <span class="number">6</span>)<span class="comment">//å°äº6çš„æ•°</span></span><br><span class="line">                .limit(<span class="number">3</span>)<span class="comment">//åªæˆªå–3ä¸ªå…ƒç´ </span></span><br><span class="line">                .collect(Collectors.toList());</span><br><span class="line">        System.out.println(collect);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * èšåˆå’Œç»Ÿè®¡</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">mergeTest</span><span class="params">()</span> &#123;</span><br><span class="line">        List&lt;String&gt; strings = Arrays.asList(<span class="string">&quot;Hello&quot;</span>, <span class="string">&quot; &quot;</span>, <span class="string">&quot;world&quot;</span>, <span class="string">&quot;!&quot;</span>);</span><br><span class="line">        <span class="type">String</span> <span class="variable">collect</span> <span class="operator">=</span> strings.stream().collect(Collectors.joining(<span class="string">&quot;&quot;</span>));</span><br><span class="line">        System.out.println(collect);</span><br><span class="line"></span><br><span class="line">        List&lt;Integer&gt; numbers = Arrays.asList(<span class="number">3</span>, <span class="number">2</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">7</span>, <span class="number">3</span>, <span class="number">5</span>);</span><br><span class="line">        <span class="type">IntSummaryStatistics</span> <span class="variable">stats</span> <span class="operator">=</span> numbers.stream().mapToInt((x) -&gt; x).summaryStatistics();</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;åˆ—è¡¨ä¸­æœ€å¤§çš„æ•° : &quot;</span> + stats.getMax());</span><br><span class="line">        System.out.println(<span class="string">&quot;åˆ—è¡¨ä¸­æœ€å°çš„æ•° : &quot;</span> + stats.getMin());</span><br><span class="line">        System.out.println(<span class="string">&quot;æ‰€æœ‰æ•°ä¹‹å’Œ : &quot;</span> + stats.getSum());</span><br><span class="line">        System.out.println(<span class="string">&quot;å¹³å‡æ•° : &quot;</span> + stats.getAverage());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Fruit</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Fruit</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line">    String name;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setName</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="4-Base64-å·¥å…·"><a href="#4-Base64-å·¥å…·" class="headerlink" title="4.  Base64 å·¥å…·"></a>4.  Base64 å·¥å…·</h3><p>Java 8 å†…ç½®äº† Base64 ç¼–ç çš„ç¼–ç å™¨å’Œè§£ç å™¨ï¼Œæ”¯æŒä¸‰ç§ç¼–è§£ç æ–¹å¼ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"><span class="keyword">import</span> java.io.UnsupportedEncodingException;</span><br><span class="line"><span class="keyword">import</span> java.util.Base64;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Base64Example</span> &#123;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test</span><span class="params">()</span> <span class="keyword">throws</span> UnsupportedEncodingException &#123;</span><br><span class="line">        <span class="comment">//åŸºæœ¬</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">s1</span> <span class="operator">=</span> Base64.getEncoder().encodeToString(<span class="string">&quot;base64test&quot;</span>.getBytes(<span class="string">&quot;utf-8&quot;</span>));</span><br><span class="line">        System.out.println(s1);</span><br><span class="line">        System.out.println(<span class="keyword">new</span> <span class="title class_">String</span>(Base64.getDecoder().decode(s1), <span class="string">&quot;utf-8&quot;</span>));</span><br><span class="line"></span><br><span class="line">        <span class="comment">//URL</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">s2</span> <span class="operator">=</span> Base64.getUrlEncoder().encodeToString(<span class="string">&quot;base64test&quot;</span>.getBytes(<span class="string">&quot;utf-8&quot;</span>));</span><br><span class="line">        System.out.println(s2);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//Mime</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">s3</span> <span class="operator">=</span> Base64.getMimeEncoder().encodeToString(<span class="string">&quot;base64test&quot;</span>.getBytes(<span class="string">&quot;utf-8&quot;</span>));</span><br><span class="line">        System.out.println(s3);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="5-æ–°çš„æ—¥æœŸå’Œæ—¶é—´å·¥å…·"><a href="#5-æ–°çš„æ—¥æœŸå’Œæ—¶é—´å·¥å…·" class="headerlink" title="5.  æ–°çš„æ—¥æœŸå’Œæ—¶é—´å·¥å…·"></a>5.  æ–°çš„æ—¥æœŸå’Œæ—¶é—´å·¥å…·</h3><p>åœ¨è¿‡å»ï¼ŒJava å¤„ç†æ—¥æœŸå’Œæ—¶é—´æˆ‘ä»¬ä¸€èˆ¬æ˜¯ç”¨ <code>java.util.Date</code>ã€<code>java.util.Calendar</code>  é…åˆ <code>java.text.SimpleDateFormat</code> æ¥ä½¿ç”¨çš„ï¼Œç¼ºç‚¹æ˜¯æ˜“ç”¨æ€§å·®ï¼Œçº¿ç¨‹ä¸å®‰å…¨ï¼Œä¸æ”¯æŒæ—¶åŒºï¼Œæ–°çš„æ—¥æœŸå’Œæ—¶é—´ API  è§£å†³äº†è¿™äº›é—®é¢˜ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"><span class="keyword">import</span> java.time.LocalDate;</span><br><span class="line"><span class="keyword">import</span> java.time.LocalDateTime;</span><br><span class="line"><span class="keyword">import</span> java.time.LocalTime;</span><br><span class="line"><span class="keyword">import</span> java.time.format.DateTimeFormatter;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TimeExample</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">LocalTime</span> <span class="variable">localTime</span> <span class="operator">=</span> LocalTime.now();</span><br><span class="line">        System.out.println(localTime);</span><br><span class="line"></span><br><span class="line">        <span class="type">LocalDate</span> <span class="variable">localDate</span> <span class="operator">=</span> LocalDate.now();</span><br><span class="line">        System.out.println(localDate);</span><br><span class="line"></span><br><span class="line">        <span class="type">LocalDateTime</span> <span class="variable">localDateTime</span> <span class="operator">=</span> LocalDateTime.now();</span><br><span class="line">        System.out.println(localDateTime);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test1</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">LocalDateTime</span> <span class="variable">localDateTime</span> <span class="operator">=</span> LocalDateTime.of(<span class="number">2021</span>, <span class="number">6</span>, <span class="number">1</span>, <span class="number">10</span>, <span class="number">30</span>);</span><br><span class="line">        System.out.println(localDateTime);</span><br><span class="line"></span><br><span class="line">        <span class="type">DateTimeFormatter</span> <span class="variable">formatter</span> <span class="operator">=</span> DateTimeFormatter.ofPattern(<span class="string">&quot;yyyy-MM-dd HH:mm:ss&quot;</span>);</span><br><span class="line">        <span class="type">String</span> <span class="variable">format</span> <span class="operator">=</span> localDateTime.format(formatter);</span><br><span class="line">        System.out.println(format);</span><br><span class="line"></span><br><span class="line">        <span class="type">LocalDateTime</span> <span class="variable">parse</span> <span class="operator">=</span> LocalDateTime.parse(<span class="string">&quot;2021-01-01 12:00:00&quot;</span>, formatter);</span><br><span class="line">        System.out.println(parse);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="6-CompletableFuture-å¼‚æ­¥ç¼–ç¨‹"><a href="#6-CompletableFuture-å¼‚æ­¥ç¼–ç¨‹" class="headerlink" title="6. CompletableFuture å¼‚æ­¥ç¼–ç¨‹"></a>6. CompletableFuture å¼‚æ­¥ç¼–ç¨‹</h3><p>åœ¨ Java8 ä¹‹å‰ Future æ¥å£æä¾›äº†å¼‚æ­¥æ‰§è¡Œä»»åŠ¡çš„èƒ½åŠ›ï¼Œä½†å¯¹äºç»“æœçš„è·å–åªèƒ½é€šè¿‡é˜»å¡æˆ–è€…è½®è¯¢çš„æ–¹å¼ã€‚ä¸ºäº†å¢å¼ºå¼‚æ­¥ç¼–ç¨‹çš„åŠŸèƒ½ï¼ŒJava8 æ·»åŠ äº† CompletableFuture ç±»ï¼ŒCompletableFuture ç±»å®ç°äº† CompletionStage å’Œ Future æ¥å£ï¼Œé»˜è®¤ä½¿ç”¨ ForkJoinPool.commonPool() çº¿ç¨‹æ± ã€‚</p>
<p>commonPool æ˜¯å½“å‰ JVMï¼ˆè¿›ç¨‹ï¼‰ ä¸Šçš„æ‰€æœ‰ CompletableFutureã€å¹¶è¡Œ Stream å…±äº«çš„ï¼ŒcommonPool çš„ç›®æ ‡åœºæ™¯æ˜¯éé˜»å¡çš„ CPU å¯†é›†å‹ä»»åŠ¡ï¼Œå…¶çº¿ç¨‹æ•°é»˜è®¤ä¸º CPU æ•°é‡å‡1ï¼Œæ‰€ä»¥å¯¹äºæˆ‘ä»¬ç”¨ java å¸¸åšçš„ IO å¯†é›†å‹ä»»åŠ¡ï¼Œé»˜è®¤çº¿ç¨‹æ± æ˜¯è¿œè¿œä¸å¤Ÿä½¿ç”¨çš„ï¼›åœ¨åŒæ ¸åŠä»¥ä¸‹æœºå™¨ä¸Šï¼Œé»˜è®¤çº¿ç¨‹æ± åˆä¼šé€€åŒ–ä¸ºä¸ºæ¯ä¸ªä»»åŠ¡åˆ›å»ºä¸€ä¸ªçº¿ç¨‹ï¼Œç›¸å½“äºæ²¡æœ‰çº¿ç¨‹æ± ã€‚æ‰€ä»¥ä½¿ç”¨ CompletableFuture æ—¶è¦æ ¹æ®ä¸šåŠ¡å†³å®šæ˜¯å¦éœ€è¦è‡ªå®šä¹‰çº¿ç¨‹æ± ã€‚</p>
<p>åœ¨ CompletableFuture ä¸­å¸¦æœ‰ Async çš„éƒ½æ˜¯å¼‚æ­¥æ–¹æ³•ï¼Œget æ–¹æ³•æ˜¯åŒæ­¥çš„ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">futureTest</span><span class="params">()</span> <span class="keyword">throws</span> ExecutionException, InterruptedException, TimeoutException &#123;</span><br><span class="line">    <span class="comment">//å•çº¯åœ°è¿”å›ä¸€ä¸ªå€¼</span></span><br><span class="line">    CompletableFuture&lt;String&gt; future = CompletableFuture.completedFuture(<span class="string">&quot;msg&quot;</span>);</span><br><span class="line">    System.out.println(future.get());</span><br><span class="line"></span><br><span class="line">    <span class="comment">//ç›´æ¥è¿›è¡Œè¿ç®—å¹¶è¿”å›</span></span><br><span class="line">    CompletableFuture&lt;Integer&gt; supplyAsync = CompletableFuture.supplyAsync(() -&gt; &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            Thread.sleep(<span class="number">2500L</span>);</span><br><span class="line">            <span class="comment">//Thread.sleep(1000L);</span></span><br><span class="line">        &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span> + <span class="number">1</span>;</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="comment">//æ˜¯å¦æ‰§è¡Œå®Œæ¯•</span></span><br><span class="line">    System.out.println(supplyAsync.isDone());</span><br><span class="line">    <span class="comment">//ç«‹åˆ»è¿”å›æ‰§è¡Œç»“æœæˆ–å¼‚å¸¸ï¼Œå¦åˆ™è¿”å›æŒ‡å®šå€¼</span></span><br><span class="line">    System.out.println(supplyAsync.getNow(<span class="number">1</span>));</span><br><span class="line">    <span class="comment">//è®¾ç½®è¶…æ—¶</span></span><br><span class="line">    System.out.println(supplyAsync.get(<span class="number">2</span>, TimeUnit.SECONDS));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¯¹äºå¤šæ­¥éª¤çš„å¤„ç†ç”¨ thenApply </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">apply</span><span class="params">()</span> <span class="keyword">throws</span> ExecutionException, InterruptedException &#123;</span><br><span class="line">    <span class="comment">//å¤šæ­¥éª¤å¤„ç†ï¼Œä¸€ä¸ªæ­¥éª¤å¤„ç†å®ŒæŠŠç»“æœè¿”å›ç»™ä¸‹ä¸€æ­¥ç»§ç»­å¤„ç†ï¼ŒåŒæ­¥ thenApplyï¼Œå¼‚æ­¥ thenApplyAsync</span></span><br><span class="line">    CompletableFuture&lt;Integer&gt; future = CompletableFuture.completedFuture(<span class="number">1</span>)</span><br><span class="line">            .thenApply(i -&gt; i + <span class="number">2</span>)</span><br><span class="line">            .thenApplyAsync(i -&gt; i + <span class="number">3</span>)</span><br><span class="line">            <span class="comment">//è®¡ç®—å®Œæ¯•åçš„å¤„ç†ï¼Œä¸å½±å“ get è¿”å›å€¼</span></span><br><span class="line">            .whenCompleteAsync((result, exception) -&gt; &#123;</span><br><span class="line">                result *= <span class="number">10</span>;</span><br><span class="line">                System.out.println(<span class="string">&quot;calculate result:&quot;</span> + result);</span><br><span class="line">            &#125;);</span><br><span class="line">    System.out.println(future.get());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç»„åˆæ–¹æ³•ç”¨ thenCompose</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">thenComposeExample</span><span class="params">()</span> <span class="keyword">throws</span> ExecutionException, InterruptedException &#123;</span><br><span class="line">    <span class="type">String</span> <span class="variable">original</span> <span class="operator">=</span> <span class="string">&quot;Message&quot;</span>;</span><br><span class="line">    <span class="comment">//å°†å­—ç¬¦ä¸²è½¬æ¢å¤§å†™ï¼Œå¾—åˆ°ç»“æœå†è½¬æ¢å°å†™ï¼Œå†ç»„åˆèµ·æ¥</span></span><br><span class="line">    <span class="type">CompletableFuture</span> <span class="variable">cf</span> <span class="operator">=</span> CompletableFuture.completedFuture(original)</span><br><span class="line">            .thenApply(s -&gt; s.toUpperCase())</span><br><span class="line">            .thenCompose(upper -&gt; CompletableFuture.completedFuture(original)</span><br><span class="line">                    .thenApply(s -&gt; s.toLowerCase())</span><br><span class="line">                    .thenApply(s -&gt; upper + s));</span><br><span class="line">    System.out.println(cf.get());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç­‰å¾…å¤šä¸ªä»»åŠ¡ä¸€èµ·æ‰§è¡Œå®Œæ¯•å†è¿›è¡Œå¤„ç†å¯ä»¥ä½¿ç”¨ allOf æ–¹æ³•</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">allof</span><span class="params">()</span> <span class="keyword">throws</span> ExecutionException, InterruptedException &#123;</span><br><span class="line">    List&lt;Integer&gt; integers = List.of(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>);</span><br><span class="line">    List&lt;CompletableFuture&lt;Integer&gt;&gt; futureList = integers.stream()</span><br><span class="line">                    .map(item -&gt; CompletableFuture.completedFuture(item).thenApplyAsync(num -&gt; num * num))</span><br><span class="line">                    .collect(Collectors.toList());</span><br><span class="line">    CompletableFuture&lt;Void&gt; allof = CompletableFuture</span><br><span class="line">            .allOf(futureList.toArray(<span class="keyword">new</span> <span class="title class_">CompletableFuture</span>[futureList.size()]))</span><br><span class="line">            .whenCompleteAsync((result, exception) -&gt; &#123;</span><br><span class="line">                futureList.forEach(cf -&gt; &#123;</span><br><span class="line">                    System.out.println(cf.getNow(<span class="number">0</span>));</span><br><span class="line">                &#125;);</span><br><span class="line">            &#125;);</span><br><span class="line">    <span class="comment">//handle ä½çœ‹è¾“å‡ºç»“æœï¼Œå› ä¸ºæ˜¯ä¸Šé¢éƒ½ç”¨å¼‚æ­¥çš„ï¼Œè¿™é‡Œä¸ç­‰å¾ˆå¯èƒ½çœ‹ä¸åˆ°è¾“å‡º</span></span><br><span class="line">    allof.get();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="7-å‚è€ƒ"><a href="#7-å‚è€ƒ" class="headerlink" title="7. å‚è€ƒ"></a>7. å‚è€ƒ</h3><ul>
<li>[1] <a target="_blank" rel="noopener" href="https://docs.oracle.com/javase/8/docs/api/">Java Platform SE 8</a></li>
<li>[2] <a target="_blank" rel="noopener" href="https://www.runoob.com/java/java8-new-features.html">Java 8  æ–°ç‰¹æ€§ | èœé¸Ÿæ•™ç¨‹</a></li>
<li>[3] <a target="_blank" rel="noopener" href="https://www.jianshu.com/p/8c9dc192fa63">CompletableFutureé¿å‘1â€”â€”éœ€è¦è‡ªå®šä¹‰çº¿ç¨‹æ± </a></li>
</ul>
</div><div class="tags"><ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Java/" rel="tag">Java</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/NewFeatures/" rel="tag">NewFeatures</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E6%8A%80%E6%9C%AF/" rel="tag">æŠ€æœ¯</a></li></ul></div><div class="post-nav"><a class="pre" href="/p/48d806d4c454/">ä» Java8 åˆ° Java11 å†åˆ° Java17 çš„æ–°ç‰¹æ€§(2)</a><a class="next" href="/p/96e43aad4f10/">ä½¿ç”¨ canal å’Œ RabitMQ è®¢é˜… MySQL çš„ binlog</a></div><link rel="stylesheet" type="text/css" href="https://unpkg.com/disqusjs@1.3/dist/disqusjs.css"><script type="text/javascript" src="https://unpkg.com/disqusjs@1.3/dist/disqus.js"></script><script type="text/javascript" id="disqus-count-script">$(function() {
  var xhr = new XMLHttpRequest();
  xhr.open('GET', '//disqus.com/next/config.json', true);
  xhr.timeout = 2500;
  xhr.onreadystatechange = function () {
    if (xhr.readyState === 4 && xhr.status === 200) {
      $('.post-meta .post-comments-count').show();
      var s = document.createElement('script');
      s.id = 'dsq-count-scr';
      s.src = 'https://zguishen.disqus.com/count.js';
      s.async = true;
      (document.head || document.body).appendChild(s);
    }
  };
  xhr.ontimeout = function () { xhr.abort(); };
  xhr.send(null);
});</script><div class="comments" id="disqus_thread"><script type="text/javascript">// Load comments with DisqusJS
function loadComments() {
  window.dsqjs = new DisqusJS({
    shortname: 'zguishen',
    siteName: 'ç”˜è‰',
    identifier: 'p/6ac9ad4f7a11/',
    url: 'https://zgshen.github.io/p/6ac9ad4f7a11/',
    title: 'ä» Java8 åˆ° Java11 å†åˆ° Java17 çš„æ–°ç‰¹æ€§(1)',
    api: '',
    apikey: '',
    admin: '',
    adminLabel: ''
  });
}
// Lazy load {# Credit: https://github.com/theme-next/hexo-theme-next/blob/master/layout/_third-party/comments/disqus.swig #}
(function () {
  var offsetTop = document.getElementById('disqus_thread').offsetTop - window.innerHeight;
  if (offsetTop <= 0) {
    // Load directly when there's no scrollbar
    window.addEventListener('load', loadComments, false);
  } else {
    var disqusScroll = function () {
      // offsetTop may changes because of manually resizing browser window or lazy loading images
      var offsetTop = document.getElementById('disqus_thread').offsetTop - window.innerHeight;
      var scrollTop = window.scrollY;

      // Pre-load comments a bit? (margin or anything else)
      if (offsetTop - scrollTop < 60) {
        window.removeEventListener('scroll', disqusScroll);
        loadComments();
      }
    };
    window.addEventListener('scroll', disqusScroll);
  }
})();
// Scroll to comments automatically if #comment-xxx anchor specified
window.addEventListener('load', function () {
  // I don't know why, it just works.
  window.setTimeout(function () {
    if (location.hash.indexOf('#comment-') !== -1) {
      document.getElementById('disqus_thread').scrollIntoView(true);
    }
  }, 100);
}, false);
</script></div></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><form class="search-form" action="//www.google.com/search" method="get" accept-charset="utf-8" target="_blank"><input type="text" name="q" maxlength="20" placeholder="Search"/><input type="hidden" name="sitesearch" value="https://zgshen.github.io"/></form></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> Categories</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%8A%80%E6%9C%AF/">æŠ€æœ¯</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%94%9F%E6%B4%BB/">ç”Ÿæ´»</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> Tags</i></div><div class="tagcloud"><a href="/tags/%E6%8A%80%E6%9C%AF/" style="font-size: 15px;">æŠ€æœ¯</a> <a href="/tags/blog/" style="font-size: 15px;">blog</a> <a href="/tags/Redis/" style="font-size: 15px;">Redis</a> <a href="/tags/KMS/" style="font-size: 15px;">KMS</a> <a href="/tags/Windows/" style="font-size: 15px;">Windows</a> <a href="/tags/Office/" style="font-size: 15px;">Office</a> <a href="/tags/Tiddlywiki/" style="font-size: 15px;">Tiddlywiki</a> <a href="/tags/Hexo/" style="font-size: 15px;">Hexo</a> <a href="/tags/%E5%8D%8F%E7%A8%8B/" style="font-size: 15px;">åç¨‹</a> <a href="/tags/Java/" style="font-size: 15px;">Java</a> <a href="/tags/Python/" style="font-size: 15px;">Python</a> <a href="/tags/%E6%92%AD%E5%AE%A2/" style="font-size: 15px;">æ’­å®¢</a> <a href="/tags/%E7%96%AB%E6%83%85/" style="font-size: 15px;">ç–«æƒ…</a> <a href="/tags/%E7%94%9F%E5%AD%98/" style="font-size: 15px;">ç”Ÿå­˜</a> <a href="/tags/%E6%B8%B8%E6%88%8F/" style="font-size: 15px;">æ¸¸æˆ</a> <a href="/tags/%E7%AC%94%E8%AE%B0/" style="font-size: 15px;">ç¬”è®°</a> <a href="/tags/Linux/" style="font-size: 15px;">Linux</a> <a href="/tags/%E4%B9%A6%E7%B1%8D/" style="font-size: 15px;">ä¹¦ç±</a> <a href="/tags/%E7%AE%97%E6%B3%95/" style="font-size: 15px;">ç®—æ³•</a> <a href="/tags/%E9%9A%8F%E7%AC%94/" style="font-size: 15px;">éšç¬”</a> <a href="/tags/Git/" style="font-size: 15px;">Git</a> <a href="/tags/Spring/" style="font-size: 15px;">Spring</a> <a href="/tags/VPS/" style="font-size: 15px;">VPS</a> <a href="/tags/%E6%B2%BB%E7%96%97/" style="font-size: 15px;">æ²»ç–—</a> <a href="/tags/Kubernetes/" style="font-size: 15px;">Kubernetes</a> <a href="/tags/%E7%94%9F%E6%B4%BB/" style="font-size: 15px;">ç”Ÿæ´»</a> <a href="/tags/COVID-19/" style="font-size: 15px;">COVID-19</a> <a href="/tags/%E5%B9%BF%E5%B7%9E/" style="font-size: 15px;">å¹¿å·</a> <a href="/tags/%E6%97%85%E8%A1%8C/" style="font-size: 15px;">æ—…è¡Œ</a> <a href="/tags/%E5%BD%B1%E8%A7%86/" style="font-size: 15px;">å½±è§†</a> <a href="/tags/%E6%91%84%E5%BD%B1/" style="font-size: 15px;">æ‘„å½±</a> <a href="/tags/%E5%9F%8E%E5%B8%82/" style="font-size: 15px;">åŸå¸‚</a> <a href="/tags/Ubuntu/" style="font-size: 15px;">Ubuntu</a> <a href="/tags/Router/" style="font-size: 15px;">Router</a> <a href="/tags/%E5%85%B6%E4%BB%96/" style="font-size: 15px;">å…¶ä»–</a> <a href="/tags/%E5%8D%9A%E5%AE%A2/" style="font-size: 15px;">åšå®¢</a> <a href="/tags/%E8%BD%AC%E8%BD%BD/" style="font-size: 15px;">è½¬è½½</a> <a href="/tags/%E9%9D%A2%E8%AF%95/" style="font-size: 15px;">é¢è¯•</a> <a href="/tags/%E5%9F%BA%E7%A1%80/" style="font-size: 15px;">åŸºç¡€</a> <a href="/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/" style="font-size: 15px;">æ•°æ®åº“</a> <a href="/tags/NewFeatures/" style="font-size: 15px;">NewFeatures</a> <a href="/tags/Docker/" style="font-size: 15px;">Docker</a> <a href="/tags/%E5%81%A5%E5%BA%B7/" style="font-size: 15px;">å¥åº·</a> <a href="/tags/%E5%B9%B4%E7%BB%88%E6%80%BB%E7%BB%93/" style="font-size: 15px;">å¹´ç»ˆæ€»ç»“</a> <a href="/tags/Java%E5%9F%BA%E7%A1%80/" style="font-size: 15px;">JavaåŸºç¡€</a> <a href="/tags/nginx/" style="font-size: 15px;">nginx</a> <a href="/tags/Web%E6%8A%80%E6%9C%AF/" style="font-size: 15px;">WebæŠ€æœ¯</a> <a href="/tags/web%E6%A1%86%E6%9E%B6/" style="font-size: 15px;">webæ¡†æ¶</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> Recent</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/p/630247b1a502/">æ½®æ±•ä¸‰å¸‚</a></li><li class="post-list-item"><a class="post-list-link" href="/p/9263de5a5c77/">é¦™æ¸¯çŸ³æ¾³</a></li><li class="post-list-item"><a class="post-list-link" href="/p/8832dd9b5543/">æ˜¨æ—¥çš„ä¸–ç•Œ</a></li><li class="post-list-item"><a class="post-list-link" href="/p/4f6091246902/">é£ä¹‹åŸ</a></li><li class="post-list-item"><a class="post-list-link" href="/p/fa201fa19d93/">Ubuntu æ»šåŠ¨æ›´æ–°ç¢°åˆ°é—®é¢˜è®°å½•</a></li><li class="post-list-item"><a class="post-list-link" href="/p/1dd24896a65f/">ç´¢å°¼ZV-E10ç›¸æœº</a></li><li class="post-list-item"><a class="post-list-link" href="/p/3edf72b44c1a/">Redis æ¶ˆæ¯é˜Ÿåˆ—åœ¨ SpringBoot ä¸­çš„ä½¿ç”¨</a></li><li class="post-list-item"><a class="post-list-link" href="/p/b92172fd9611/">ä½ æƒ³æ´»å‡ºæ€æ ·çš„äººç”Ÿ å›ãŸã¡ã¯ã©ã†ç”Ÿãã‚‹ã‹</a></li><li class="post-list-item"><a class="post-list-link" href="/p/c04b24b738df/">åŸä¸­æ‘ç”Ÿæ´»æŒ‡å—</a></li><li class="post-list-item"><a class="post-list-link" href="/p/76b2256aa1ad/">æ˜†æ˜</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> Links</i></div><ul></ul><a href="http://shanks.link/" title="æ„¿æ˜Ÿå…‰ä¼´ä½ å·¦å³" target="_blank">æ„¿æ˜Ÿå…‰ä¼´ä½ å·¦å³</a></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright Â© 2025 <a href="/." rel="nofollow">ç”˜è‰.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo &</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Maupassant. </a> <a rel="nofollow" target="_blank" href="https://foreverblog.cn/go.html"> Wormhole.</a></div></div></div><a class="show" id="rocket" href="#top"></a><script type="text/javascript" src="/js/totop.js?v=1.0.0" async></script><script type="text/javascript" src="//lib.baomitu.com/fancybox/latest/jquery.fancybox.min.js"></script><script type="text/javascript" src="/js/fancybox.js?v=1.0.0"></script><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/fancybox/latest/jquery.fancybox.min.css"><script type="text/javascript" src="/js/copycode.js?v=1.0.0" successtext="Copy Successed!"></script><link rel="stylesheet" type="text/css" href="/css/copycode.css?v=1.0.0"><script type="text/javascript" src="/js/codeblock-resizer.js?v=1.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=1.0.0"></script></div></body></html>